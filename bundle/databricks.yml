bundle: 
  name: etl_project_bundle

include:
  - bundle/*.yml
  - bundle/resources/*.yml

targets:
  dev:
    mode: development
    default: true
    workspace:
      host: ${workspace.host}
    variables:
        UC_VOLUME_PREFIX: dev_
        UC_SCHEMA_PREFIX: dev_
        spark_version: 15.4.x-scala2.12
        schedule_status: 
        ENV_CATALOG_IDENTIFIER: dev
        ENV_SCHEMA_PREFIX: "dev_${workspace.current_user.short_name}_"
    permissions:
      - user_name: ${workspace.current_user.userName}
        level: CAN_MANAGE

  prod:
    mode: production
    workspace:
      host: ${workspace.host}
      root_path: /Workspace/Users/${workspace.current_user.userName}/.bundle/${bundle.name}/${bundle.target}
    variables:
        UC_VOLUME_PREFIX: 
        UC_SCHEMA_PREFIX: 
        spark_version: 15.4.x-scala2.12
        schedule_status: 
        ENV_CATALOG_IDENTIFIER: prod
        ENV_SCHEMA_PREFIX: "prod_"
    permissions:
      - user_name: ${workspace.current_user.userName}
        level: CAN_MANAGE
    run_as:
      user_name: ${workspace.current_user.userName}